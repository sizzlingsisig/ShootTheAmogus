                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module game
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _gbt_loop
                                     11 	.globl _gbt_play
                                     12 	.globl _checkPlayerEnemyCollisions
                                     13 	.globl _checkBulletEnemyCollisions
                                     14 	.globl _showGameOverScreen
                                     15 	.globl _showStartScreen
                                     16 	.globl _drawWave
                                     17 	.globl _drawScore
                                     18 	.globl _drawHearts
                                     19 	.globl _waitFrames
                                     20 	.globl _initRand
                                     21 	.globl _simpleRand
                                     22 	.globl _updateBullets
                                     23 	.globl _fireBullet
                                     24 	.globl _initBullets
                                     25 	.globl _countActiveEnemies
                                     26 	.globl _drawEnemy
                                     27 	.globl _updateEnemyAnimation
                                     28 	.globl _updateEnemyPhysics
                                     29 	.globl _spawnBossEnemy
                                     30 	.globl _spawnEnemy
                                     31 	.globl _initEnemies
                                     32 	.globl _drawPlayer
                                     33 	.globl _updatePlayerAnimation
                                     34 	.globl _updatePlayerPhysics
                                     35 	.globl _updatePlayerInput
                                     36 	.globl _initPlayer
                                     37 	.globl _set_sprite_data
                                     38 	.globl _set_bkg_tiles
                                     39 	.globl _set_bkg_data
                                     40 	.globl _set_interrupts
                                     41 	.globl _joypad
                                     42 	.globl _enemySpawnTimer
                                     43 	.globl _game
                                     44 	.globl _getWaveNumber
                                     45 	.globl _getEnemySpeed
                                     46 	.globl _incrementWave
                                     47 	.globl _incrementEnemiesKilled
                                     48 	.globl _addScore
                                     49 	.globl _Game_init
                                     50 	.globl _Game_start
                                     51 	.globl _Game_reset
                                     52 	.globl _updateDifficulty
                                     53 	.globl _getSpawnInterval
                                     54 	.globl _checkWaveCompletion
                                     55 	.globl _updateEnemySpawning
                                     56 	.globl _Game_update
                                     57 	.globl _Game_draw
                                     58 ;--------------------------------------------------------
                                     59 ; special function registers
                                     60 ;--------------------------------------------------------
                                     61 ;--------------------------------------------------------
                                     62 ; ram data
                                     63 ;--------------------------------------------------------
                                     64 	.area _DATA
    00000000                         65 _game::
    00000000                         66 	.ds 11
    0000000B                         67 _enemySpawnTimer::
    0000000B                         68 	.ds 1
    0000000C                         69 _Game_update_fireDelay_10000_249:
    0000000C                         70 	.ds 1
                                     71 ;--------------------------------------------------------
                                     72 ; ram data
                                     73 ;--------------------------------------------------------
                                     74 	.area _INITIALIZED
                                     75 ;--------------------------------------------------------
                                     76 ; absolute external ram data
                                     77 ;--------------------------------------------------------
                                     78 	.area _DABS (ABS)
                                     79 ;--------------------------------------------------------
                                     80 ; global & static initialisations
                                     81 ;--------------------------------------------------------
                                     82 	.area _HOME
                                     83 	.area _GSINIT
                                     84 	.area _GSFINAL
                                     85 	.area _GSINIT
                                     86 ;src/game.c:190: static UINT8 fireDelay = 0;
    00000000 AF               [ 4]   87 	xor	a, a
    00000001 21r0Cr00         [12]   88 	ld	hl, #_Game_update_fireDelay_10000_249
    00000004 77               [ 8]   89 	ld	(hl), a
                                     90 ;--------------------------------------------------------
                                     91 ; Home
                                     92 ;--------------------------------------------------------
                                     93 	.area _HOME
                                     94 	.area _HOME
                                     95 ;--------------------------------------------------------
                                     96 ; code
                                     97 ;--------------------------------------------------------
                                     98 	.area _CODE
                                     99 ;src/game.c:27: UINT8 getWaveNumber(void) { return game.waveNumber; }
                                    100 ;	---------------------------------
                                    101 ; Function getWaveNumber
                                    102 ; ---------------------------------
    00000000                        103 _getWaveNumber::
    00000000 FAr05r00         [16]  104 	ld	a, (#(_game + 5) + 0)
    00000003 C9               [16]  105 	ret
                                    106 ;src/game.c:28: UINT8 getEnemySpeed(void) { return game.enemySpeed; }
                                    107 ;	---------------------------------
                                    108 ; Function getEnemySpeed
                                    109 ; ---------------------------------
    00000004                        110 _getEnemySpeed::
    00000004 FAr08r00         [16]  111 	ld	a, (#(_game + 8) + 0)
    00000007 C9               [16]  112 	ret
                                    113 ;src/game.c:29: void incrementWave(void) { game.waveNumber++; game.enemiesKilledInWave = 0; }
                                    114 ;	---------------------------------
                                    115 ; Function incrementWave
                                    116 ; ---------------------------------
    00000008                        117 _incrementWave::
    00000008 21r05r00         [12]  118 	ld	hl, #_game + 5
    0000000B 34               [12]  119 	inc	(hl)
    0000000C 21r06r00         [12]  120 	ld	hl, #_game + 6
    0000000F 36 00            [12]  121 	ld	(hl), #0x00
    00000011 C9               [16]  122 	ret
                                    123 ;src/game.c:30: void incrementEnemiesKilled(void) { game.enemiesKilledInWave++; }
                                    124 ;	---------------------------------
                                    125 ; Function incrementEnemiesKilled
                                    126 ; ---------------------------------
    00000012                        127 _incrementEnemiesKilled::
    00000012 01r06r00         [12]  128 	ld	bc, #_game+6
    00000015 0A               [ 8]  129 	ld	a, (bc)
    00000016 3C               [ 4]  130 	inc	a
    00000017 02               [ 8]  131 	ld	(bc), a
    00000018 C9               [16]  132 	ret
                                    133 ;src/game.c:31: void addScore(UINT16 points) { game.score += points; }
                                    134 ;	---------------------------------
                                    135 ; Function addScore
                                    136 ; ---------------------------------
    00000019                        137 _addScore::
    00000019 4B               [ 4]  138 	ld	c, e
    0000001A 42               [ 4]  139 	ld	b, d
    0000001B 21r01r00         [12]  140 	ld	hl, #(_game + 1)
    0000001E 2A               [ 8]  141 	ld	a,	(hl+)
    0000001F 66               [ 8]  142 	ld	h, (hl)
    00000020 6F               [ 4]  143 	ld	l, a
    00000021 09               [ 8]  144 	add	hl, bc
    00000022 4D               [ 4]  145 	ld	c, l
    00000023 44               [ 4]  146 	ld	b, h
    00000024 21r01r00         [12]  147 	ld	hl, #(_game + 1)
    00000027 79               [ 4]  148 	ld	a, c
    00000028 22               [ 8]  149 	ld	(hl+), a
    00000029 70               [ 8]  150 	ld	(hl), b
    0000002A C9               [16]  151 	ret
                                    152 ;src/game.c:33: void Game_init(void)
                                    153 ;	---------------------------------
                                    154 ; Function Game_init
                                    155 ; ---------------------------------
    0000002B                        156 _Game_init::
                                    157 ;src/game.c:36: set_sprite_data(0, 8, GameSprites);
    0000002B 11r00r00         [12]  158 	ld	de, #_GameSprites
    0000002E D5               [16]  159 	push	de
    0000002F 21 00 08         [12]  160 	ld	hl, #0x800
    00000032 E5               [16]  161 	push	hl
    00000033 CDr00r00         [24]  162 	call	_set_sprite_data
    00000036 E8 04            [16]  163 	add	sp, #4
                                    164 ;src/game.c:37: set_sprite_data(8, 12, Amogus);
    00000038 11r00r00         [12]  165 	ld	de, #_Amogus
    0000003B D5               [16]  166 	push	de
    0000003C 21 08 0C         [12]  167 	ld	hl, #0xc08
    0000003F E5               [16]  168 	push	hl
    00000040 CDr00r00         [24]  169 	call	_set_sprite_data
    00000043 E8 04            [16]  170 	add	sp, #4
                                    171 ;src/game.c:38: set_sprite_data(20, 12, hatamogus);
    00000045 11r00r00         [12]  172 	ld	de, #_hatamogus
    00000048 D5               [16]  173 	push	de
    00000049 21 14 0C         [12]  174 	ld	hl, #0xc14
    0000004C E5               [16]  175 	push	hl
    0000004D CDr00r00         [24]  176 	call	_set_sprite_data
    00000050 E8 04            [16]  177 	add	sp, #4
                                    178 ;src/game.c:39: set_sprite_data(32, 4, ghostamogus);
    00000052 11r00r00         [12]  179 	ld	de, #_ghostamogus
    00000055 D5               [16]  180 	push	de
    00000056 21 20 04         [12]  181 	ld	hl, #0x420
    00000059 E5               [16]  182 	push	hl
    0000005A CDr00r00         [24]  183 	call	_set_sprite_data
    0000005D E8 04            [16]  184 	add	sp, #4
                                    185 ;src/game.c:40: set_sprite_data(36, 12, bigamogus);
    0000005F 11r00r00         [12]  186 	ld	de, #_bigamogus
    00000062 D5               [16]  187 	push	de
    00000063 21 24 0C         [12]  188 	ld	hl, #0xc24
    00000066 E5               [16]  189 	push	hl
    00000067 CDr00r00         [24]  190 	call	_set_sprite_data
    0000006A E8 04            [16]  191 	add	sp, #4
                                    192 ;src/game.c:41: set_sprite_data(48, 2, heart);
    0000006C 11r00r00         [12]  193 	ld	de, #_heart
    0000006F D5               [16]  194 	push	de
    00000070 21 30 02         [12]  195 	ld	hl, #0x230
    00000073 E5               [16]  196 	push	hl
    00000074 CDr00r00         [24]  197 	call	_set_sprite_data
    00000077 E8 04            [16]  198 	add	sp, #4
                                    199 ;src/game.c:44: NR52_REG = 0x80;
    00000079 3E 80            [ 8]  200 	ld	a, #0x80
    0000007B E0r00            [12]  201 	ldh	(_NR52_REG + 0), a
                                    202 ;src/game.c:45: NR50_REG = 0x77;
    0000007D 3E 77            [ 8]  203 	ld	a, #0x77
    0000007F E0r00            [12]  204 	ldh	(_NR50_REG + 0), a
                                    205 ;src/game.c:46: NR51_REG = 0xFF;
    00000081 3E FF            [ 8]  206 	ld	a, #0xff
    00000083 E0r00            [12]  207 	ldh	(_NR51_REG + 0), a
                                    208 ;src/game.c:49: BGP_REG = 0xE4;
    00000085 3E E4            [ 8]  209 	ld	a, #0xe4
    00000087 E0r00            [12]  210 	ldh	(_BGP_REG + 0), a
                                    211 ;src/game.c:50: OBP0_REG = 0xE4;
    00000089 3E E4            [ 8]  212 	ld	a, #0xe4
    0000008B E0r00            [12]  213 	ldh	(_OBP0_REG + 0), a
                                    214 ;src/game.c:51: OBP1_REG = 0xE4;
    0000008D 3E E4            [ 8]  215 	ld	a, #0xe4
    0000008F E0r00            [12]  216 	ldh	(_OBP1_REG + 0), a
                                    217 ;src/game.c:53: SHOW_BKG;
    00000091 F0r00            [12]  218 	ldh	a, (_LCDC_REG + 0)
    00000093 F6 01            [ 8]  219 	or	a, #0x01
    00000095 E0r00            [12]  220 	ldh	(_LCDC_REG + 0), a
                                    221 ;src/game.c:54: DISPLAY_ON;
    00000097 F0r00            [12]  222 	ldh	a, (_LCDC_REG + 0)
    00000099 F6 80            [ 8]  223 	or	a, #0x80
    0000009B E0r00            [12]  224 	ldh	(_LCDC_REG + 0), a
                                    225 ;src/game.c:56: game.highScore = 0;
    0000009D 21r03r00         [12]  226 	ld	hl, #(_game + 3)
    000000A0 AF               [ 4]  227 	xor	a, a
    000000A1 22               [ 8]  228 	ld	(hl+), a
    000000A2 77               [ 8]  229 	ld	(hl), a
                                    230 ;src/game.c:57: }
    000000A3 C9               [16]  231 	ret
                                    232 ;src/game.c:59: void Game_start(void)
                                    233 ;	---------------------------------
                                    234 ; Function Game_start
                                    235 ; ---------------------------------
    000000A4                        236 _Game_start::
                                    237 ;src/game.c:61: while (1)
    000000A4                        238 00107$:
                                    239 ;src/game.c:63: showStartScreen();
    000000A4 CDr00r00         [24]  240 	call	_showStartScreen
                                    241 ;src/game.c:66: set_bkg_data(0, 9, tile);
    000000A7 11r00r00         [12]  242 	ld	de, #_tile
    000000AA D5               [16]  243 	push	de
    000000AB 21 00 09         [12]  244 	ld	hl, #0x900
    000000AE E5               [16]  245 	push	hl
    000000AF CDr00r00         [24]  246 	call	_set_bkg_data
    000000B2 E8 04            [16]  247 	add	sp, #4
                                    248 ;src/game.c:67: set_bkg_tiles(0, 0, 40, 18, bgmap);
    000000B4 11r00r00         [12]  249 	ld	de, #_bgmap
    000000B7 D5               [16]  250 	push	de
    000000B8 21 28 12         [12]  251 	ld	hl, #0x1228
    000000BB E5               [16]  252 	push	hl
    000000BC AF               [ 4]  253 	xor	a, a
    000000BD 0F               [ 4]  254 	rrca
    000000BE F5               [16]  255 	push	af
    000000BF CDr00r00         [24]  256 	call	_set_bkg_tiles
    000000C2 E8 06            [16]  257 	add	sp, #6
                                    258 ;src/game.c:68: BGP_REG = 0xE4;
    000000C4 3E E4            [ 8]  259 	ld	a, #0xe4
    000000C6 E0r00            [12]  260 	ldh	(_BGP_REG + 0), a
                                    261 ;src/game.c:70: Game_reset();
    000000C8 CDr1Br01         [24]  262 	call	_Game_reset
                                    263 ;c:\gbdk\include\gb\gb.h:811: __asm__("di");
    000000CB F3               [ 4]  264 	di
                                    265 ;src/game.c:74: gbt_play(song_Data, 2, 7);
    000000CC 21 02 07         [12]  266 	ld	hl, #0x702
    000000CF E5               [16]  267 	push	hl
    000000D0 11r00r00         [12]  268 	ld	de, #_song_Data
    000000D3 D5               [16]  269 	push	de
    000000D4 CDr00r00         [24]  270 	call	_gbt_play
    000000D7 E8 04            [16]  271 	add	sp, #4
                                    272 ;src/game.c:75: gbt_loop(1);
    000000D9 3E 01            [ 8]  273 	ld	a, #0x01
    000000DB F5               [16]  274 	push	af
    000000DC 33               [ 8]  275 	inc	sp
    000000DD CDr00r00         [24]  276 	call	_gbt_loop
    000000E0 33               [ 8]  277 	inc	sp
                                    278 ;src/game.c:76: set_interrupts(VBL_IFLAG);
    000000E1 3E 01            [ 8]  279 	ld	a, #0x01
    000000E3 CDr00r00         [24]  280 	call	_set_interrupts
                                    281 ;c:\gbdk\include\gb\gb.h:795: __asm__("ei");
    000000E6 FB               [ 4]  282 	ei
                                    283 ;src/game.c:79: SHOW_SPRITES;
    000000E7 F0r00            [12]  284 	ldh	a, (_LCDC_REG + 0)
    000000E9 F6 02            [ 8]  285 	or	a, #0x02
    000000EB E0r00            [12]  286 	ldh	(_LCDC_REG + 0), a
                                    287 ;c:\gbdk\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    000000ED 21r02r00         [12]  288 	ld	hl, #(_shadow_OAM + 2)
    000000F0 36 00            [12]  289 	ld	(hl), #0x00
    000000F2 21r06r00         [12]  290 	ld	hl, #(_shadow_OAM + 6)
    000000F5 36 02            [12]  291 	ld	(hl), #0x02
    000000F7 21r0Ar00         [12]  292 	ld	hl, #(_shadow_OAM + 10)
    000000FA 36 01            [12]  293 	ld	(hl), #0x01
    000000FC 21r0Er00         [12]  294 	ld	hl, #(_shadow_OAM + 14)
    000000FF 36 03            [12]  295 	ld	(hl), #0x03
                                    296 ;src/game.c:86: while (game.lives > 0)
    00000101                        297 00101$:
    00000101 FAr00r00         [16]  298 	ld	a, (#_game + 0)
    00000104 B7               [ 4]  299 	or	a, a
    00000105 28 0D            [12]  300 	jr	Z, 00103$
                                    301 ;src/game.c:88: Game_update();
    00000107 CDr54r02         [24]  302 	call	_Game_update
                                    303 ;src/game.c:89: Game_draw();
    0000010A CDrCBr02         [24]  304 	call	_Game_draw
                                    305 ;src/game.c:90: waitFrames(4);
    0000010D 3E 04            [ 8]  306 	ld	a, #0x04
    0000010F CDr00r00         [24]  307 	call	_waitFrames
    00000112 18 ED            [12]  308 	jr	00101$
    00000114                        309 00103$:
                                    310 ;src/game.c:93: if (!showGameOverScreen())
    00000114 CDr00r00         [24]  311 	call	_showGameOverScreen
    00000117 B7               [ 4]  312 	or	a, a
    00000118 20 8A            [12]  313 	jr	NZ, 00107$
                                    314 ;src/game.c:94: break;
                                    315 ;src/game.c:96: }
    0000011A C9               [16]  316 	ret
                                    317 ;src/game.c:98: void Game_reset(void)
                                    318 ;	---------------------------------
                                    319 ; Function Game_reset
                                    320 ; ---------------------------------
    0000011B                        321 _Game_reset::
                                    322 ;src/game.c:100: if (game.score > game.highScore)
    0000011B 21r01r00         [12]  323 	ld	hl, #(_game + 1)
    0000011E 2A               [ 8]  324 	ld	a, (hl+)
    0000011F 4F               [ 4]  325 	ld	c, a
    00000120 46               [ 8]  326 	ld	b, (hl)
    00000121 21r03r00         [12]  327 	ld	hl, #(_game + 3)
    00000124 2A               [ 8]  328 	ld	a,	(hl+)
    00000125 66               [ 8]  329 	ld	h, (hl)
    00000126 91               [ 4]  330 	sub	a, c
    00000127 7C               [ 4]  331 	ld	a, h
    00000128 98               [ 4]  332 	sbc	a, b
    00000129 30 06            [12]  333 	jr	NC, 00102$
                                    334 ;src/game.c:102: game.highScore = game.score;
    0000012B 21r03r00         [12]  335 	ld	hl, #(_game + 3)
    0000012E 79               [ 4]  336 	ld	a, c
    0000012F 22               [ 8]  337 	ld	(hl+), a
    00000130 70               [ 8]  338 	ld	(hl), b
    00000131                        339 00102$:
                                    340 ;src/game.c:105: game.lives = MAX_LIVES;
    00000131 21r00r00         [12]  341 	ld	hl, #_game
                                    342 ;src/game.c:106: game.score = 0;
    00000134 3E 03            [ 8]  343 	ld	a, #0x03
    00000136 22               [ 8]  344 	ld	(hl+), a
    00000137 AF               [ 4]  345 	xor	a, a
    00000138 22               [ 8]  346 	ld	(hl+), a
    00000139 77               [ 8]  347 	ld	(hl), a
                                    348 ;src/game.c:107: game.difficultyLevel = 1;
    0000013A 21r07r00         [12]  349 	ld	hl, #_game + 7
    0000013D 36 01            [12]  350 	ld	(hl), #0x01
                                    351 ;src/game.c:108: game.enemySpeed = ENEMY_SPEED_BASE;
    0000013F 21r08r00         [12]  352 	ld	hl, #_game + 8
    00000142 36 02            [12]  353 	ld	(hl), #0x02
                                    354 ;src/game.c:109: game.frameCounter = 0;
    00000144 21r09r00         [12]  355 	ld	hl, #(_game + 9)
    00000147 AF               [ 4]  356 	xor	a, a
    00000148 22               [ 8]  357 	ld	(hl+), a
    00000149 77               [ 8]  358 	ld	(hl), a
                                    359 ;src/game.c:110: game.waveNumber = 1;
    0000014A 21r05r00         [12]  360 	ld	hl, #_game + 5
    0000014D 36 01            [12]  361 	ld	(hl), #0x01
                                    362 ;src/game.c:111: game.enemiesKilledInWave = 0;
    0000014F 21r06r00         [12]  363 	ld	hl, #_game + 6
    00000152 36 00            [12]  364 	ld	(hl), #0x00
                                    365 ;src/game.c:113: enemySpawnTimer = INITIAL_SPAWN_INTERVAL;
    00000154 21r0Br00         [12]  366 	ld	hl, #_enemySpawnTimer
    00000157 36 14            [12]  367 	ld	(hl), #0x14
                                    368 ;src/game.c:114: initRand(DIV_REG);
    00000159 F0r00            [12]  369 	ldh	a, (_DIV_REG + 0)
    0000015B 16 00            [ 8]  370 	ld	d, #0x00
    0000015D 5F               [ 4]  371 	ld	e, a
    0000015E CDr00r00         [24]  372 	call	_initRand
                                    373 ;src/game.c:116: initPlayer();
    00000161 CDr00r00         [24]  374 	call	_initPlayer
                                    375 ;src/game.c:117: initBullets();
    00000164 CDr00r00         [24]  376 	call	_initBullets
                                    377 ;src/game.c:118: initEnemies();
                                    378 ;src/game.c:119: }
    00000167 C3r00r00         [16]  379 	jp	_initEnemies
                                    380 ;src/game.c:121: void updateDifficulty(void)
                                    381 ;	---------------------------------
                                    382 ; Function updateDifficulty
                                    383 ; ---------------------------------
    0000016A                        384 _updateDifficulty::
                                    385 ;src/game.c:123: if (game.frameCounter % DIFFICULTY_INTERVAL == 0 && game.frameCounter > 0)
    0000016A 21r09r00         [12]  386 	ld	hl, #_game + 9
    0000016D 2A               [ 8]  387 	ld	a,	(hl+)
    0000016E 66               [ 8]  388 	ld	h, (hl)
    0000016F 6F               [ 4]  389 	ld	l, a
    00000170 E5               [16]  390 	push	hl
    00000171 01 2C 01         [12]  391 	ld	bc, #0x012c
    00000174 5D               [ 4]  392 	ld	e, l
    00000175 54               [ 4]  393 	ld	d, h
    00000176 CDr00r00         [24]  394 	call	__moduint
    00000179 E1               [12]  395 	pop	hl
    0000017A 78               [ 4]  396 	ld	a, b
    0000017B B1               [ 4]  397 	or	a, c
    0000017C C0               [20]  398 	ret	NZ
    0000017D 7C               [ 4]  399 	ld	a, h
    0000017E B5               [ 4]  400 	or	a, l
    0000017F C8               [20]  401 	ret	Z
                                    402 ;src/game.c:125: game.difficultyLevel++;
    00000180 21r07r00         [12]  403 	ld	hl, #_game + 7
    00000183 34               [12]  404 	inc	(hl)
                                    405 ;src/game.c:126: if (game.enemySpeed < MAX_ENEMY_SPEED)
    00000184 21r08r00         [12]  406 	ld	hl, #_game + 8
    00000187 7E               [ 8]  407 	ld	a, (hl)
    00000188 FE 06            [ 8]  408 	cp	a, #0x06
    0000018A D0               [20]  409 	ret	NC
                                    410 ;src/game.c:128: game.enemySpeed++;
    0000018B 3C               [ 4]  411 	inc	a
    0000018C 77               [ 8]  412 	ld	(hl), a
                                    413 ;src/game.c:131: }
    0000018D C9               [16]  414 	ret
                                    415 ;src/game.c:133: UINT8 getSpawnInterval(void)
                                    416 ;	---------------------------------
                                    417 ; Function getSpawnInterval
                                    418 ; ---------------------------------
    0000018E                        419 _getSpawnInterval::
                                    420 ;src/game.c:135: UINT8 interval = BASE_SPAWN_INTERVAL - (game.difficultyLevel * 3);
    0000018E FAr07r00         [16]  421 	ld	a, (#(_game + 7) + 0)
    00000191 4F               [ 4]  422 	ld	c, a
    00000192 87               [ 4]  423 	add	a, a
    00000193 81               [ 4]  424 	add	a, c
    00000194 4F               [ 4]  425 	ld	c, a
    00000195 3E 23            [ 8]  426 	ld	a, #0x23
    00000197 91               [ 4]  427 	sub	a, c
                                    428 ;src/game.c:136: return (interval < MIN_SPAWN_INTERVAL) ? MIN_SPAWN_INTERVAL : interval;
    00000198 FE 0A            [ 8]  429 	cp	a, #0x0a
    0000019A D0               [20]  430 	ret	NC
    0000019B 3E 0A            [ 8]  431 	ld	a, #0x0a
                                    432 ;src/game.c:137: }
    0000019D C9               [16]  433 	ret
                                    434 ;src/game.c:139: void checkWaveCompletion(void)
                                    435 ;	---------------------------------
                                    436 ; Function checkWaveCompletion
                                    437 ; ---------------------------------
    0000019E                        438 _checkWaveCompletion::
                                    439 ;src/game.c:141: if (game.enemiesKilledInWave >= ENEMIES_PER_WAVE)
    0000019E 21r06r00         [12]  440 	ld	hl, #_game + 6
    000001A1 7E               [ 8]  441 	ld	a, (hl)
    000001A2 D6 0A            [ 8]  442 	sub	a, #0x0a
    000001A4 D8               [20]  443 	ret	C
                                    444 ;src/game.c:143: game.waveNumber++;
    000001A5 01r05r00         [12]  445 	ld	bc, #_game + 5
    000001A8 0A               [ 8]  446 	ld	a, (bc)
    000001A9 3C               [ 4]  447 	inc	a
    000001AA 02               [ 8]  448 	ld	(bc), a
                                    449 ;src/game.c:144: game.enemiesKilledInWave = 0;
    000001AB 36 00            [12]  450 	ld	(hl), #0x00
                                    451 ;src/game.c:145: game.score += 50;
    000001AD 21r01r00         [12]  452 	ld	hl, #(_game + 1)
    000001B0 2A               [ 8]  453 	ld	a, (hl+)
    000001B1 4F               [ 4]  454 	ld	c, a
    000001B2 46               [ 8]  455 	ld	b, (hl)
    000001B3 21 32 00         [12]  456 	ld	hl, #0x0032
    000001B6 09               [ 8]  457 	add	hl, bc
    000001B7 4D               [ 4]  458 	ld	c, l
    000001B8 44               [ 4]  459 	ld	b, h
    000001B9 21r01r00         [12]  460 	ld	hl, #(_game + 1)
    000001BC 79               [ 4]  461 	ld	a, c
    000001BD 22               [ 8]  462 	ld	(hl+), a
    000001BE 70               [ 8]  463 	ld	(hl), b
                                    464 ;src/game.c:147: }
    000001BF C9               [16]  465 	ret
                                    466 ;src/game.c:149: void updateEnemySpawning(void)
                                    467 ;	---------------------------------
                                    468 ; Function updateEnemySpawning
                                    469 ; ---------------------------------
    000001C0                        470 _updateEnemySpawning::
    000001C0 3B               [ 8]  471 	dec	sp
                                    472 ;src/game.c:151: if (game.waveNumber >= 5 && game.waveNumber % 5 == 0)
    000001C1 FAr05r00         [16]  473 	ld	a, (#(_game + 5) + 0)
    000001C4 FE 05            [ 8]  474 	cp	a, #0x05
    000001C6 38 29            [12]  475 	jr	C, 00108$
    000001C8 1E 05            [ 8]  476 	ld	e, #0x05
    000001CA CDr00r00         [24]  477 	call	__moduchar
    000001CD 79               [ 4]  478 	ld	a, c
    000001CE B7               [ 4]  479 	or	a, a
    000001CF 20 20            [12]  480 	jr	NZ, 00108$
                                    481 ;src/game.c:153: if (countActiveEnemies() == 0 && enemySpawnTimer == 0)
    000001D1 CDr00r00         [24]  482 	call	_countActiveEnemies
    000001D4 B7               [ 4]  483 	or	a, a
    000001D5 20 10            [12]  484 	jr	NZ, 00104$
    000001D7 FAr0Br00         [16]  485 	ld	a, (#_enemySpawnTimer)
                                    486 ;src/game.c:155: spawnBossEnemy(0);
    000001DA B7               [ 4]  487 	or	a,a
    000001DB 20 0A            [12]  488 	jr	NZ, 00104$
    000001DD CDr00r00         [24]  489 	call	_spawnBossEnemy
                                    490 ;src/game.c:156: enemySpawnTimer = 255;
    000001E0 21r0Br00         [12]  491 	ld	hl, #_enemySpawnTimer
    000001E3 36 FF            [12]  492 	ld	(hl), #0xff
    000001E5 18 6B            [12]  493 	jr	00120$
    000001E7                        494 00104$:
                                    495 ;src/game.c:158: else if (enemySpawnTimer > 0)
    000001E7 21r0Br00         [12]  496 	ld	hl, #_enemySpawnTimer
    000001EA 7E               [ 8]  497 	ld	a, (hl)
    000001EB B7               [ 4]  498 	or	a, a
    000001EC 28 64            [12]  499 	jr	Z, 00120$
                                    500 ;src/game.c:160: enemySpawnTimer--;
    000001EE 35               [12]  501 	dec	(hl)
                                    502 ;src/game.c:162: return;
    000001EF 18 61            [12]  503 	jr	00120$
    000001F1                        504 00108$:
                                    505 ;src/game.c:165: enemySpawnTimer--;
    000001F1 21r0Br00         [12]  506 	ld	hl, #_enemySpawnTimer
                                    507 ;src/game.c:166: if (enemySpawnTimer == 0 || countActiveEnemies() == 0)
    000001F4 35               [12]  508 	dec	(hl)
    000001F5 28 06            [12]  509 	jr	Z, 00113$
    000001F7 CDr00r00         [24]  510 	call	_countActiveEnemies
    000001FA B7               [ 4]  511 	or	a, a
    000001FB 20 55            [12]  512 	jr	NZ, 00120$
    000001FD                        513 00113$:
                                    514 ;src/game.c:169: UINT8 spawnCount = (simpleRand() % 10 == 0) ? 2 : 1;
    000001FD CDr00r00         [24]  515 	call	_simpleRand
    00000200 1E 0A            [ 8]  516 	ld	e, #0x0a
    00000202 CDr00r00         [24]  517 	call	__moduchar
    00000205 79               [ 4]  518 	ld	a, c
    00000206 B7               [ 4]  519 	or	a, a
    00000207 3E 02            [ 8]  520 	ld	a, #0x02
    00000209 28 02            [12]  521 	jr	Z, 00123$
    0000020B 3E 01            [ 8]  522 	ld	a, #0x01
    0000020D                        523 00123$:
    0000020D F8 00            [12]  524 	ldhl	sp,	#0
    0000020F 77               [ 8]  525 	ld	(hl), a
                                    526 ;src/game.c:172: for (i = 0; i < MAX_ENEMIES && spawned < spawnCount; i++)
    00000210 01 00 00         [12]  527 	ld	bc, #0x0
    00000213                        528 00118$:
    00000213 79               [ 4]  529 	ld	a, c
    00000214 D6 04            [ 8]  530 	sub	a, #0x04
    00000216 30 27            [12]  531 	jr	NC, 00112$
    00000218 78               [ 4]  532 	ld	a, b
    00000219 F8 00            [12]  533 	ldhl	sp,	#0
    0000021B 96               [ 8]  534 	sub	a, (hl)
    0000021C 30 21            [12]  535 	jr	NC, 00112$
                                    536 ;src/game.c:174: if (!enemies[i].isActive)
    0000021E 59               [ 4]  537 	ld	e, c
    0000021F 16 00            [ 8]  538 	ld	d, #0x00
    00000221 6B               [ 4]  539 	ld	l, e
    00000222 62               [ 4]  540 	ld	h, d
    00000223 29               [ 8]  541 	add	hl, hl
    00000224 29               [ 8]  542 	add	hl, hl
    00000225 19               [ 8]  543 	add	hl, de
    00000226 29               [ 8]  544 	add	hl, hl
    00000227 29               [ 8]  545 	add	hl, hl
    00000228 11r00r00         [12]  546 	ld	de, #_enemies
    0000022B 19               [ 8]  547 	add	hl, de
    0000022C 23               [ 8]  548 	inc	hl
    0000022D 23               [ 8]  549 	inc	hl
    0000022E 23               [ 8]  550 	inc	hl
    0000022F 23               [ 8]  551 	inc	hl
    00000230 23               [ 8]  552 	inc	hl
    00000231 7E               [ 8]  553 	ld	a, (hl)
    00000232 B7               [ 4]  554 	or	a, a
    00000233 20 07            [12]  555 	jr	NZ, 00119$
                                    556 ;src/game.c:176: spawnEnemy(i);
    00000235 C5               [16]  557 	push	bc
    00000236 79               [ 4]  558 	ld	a, c
    00000237 CDr00r00         [24]  559 	call	_spawnEnemy
    0000023A C1               [12]  560 	pop	bc
                                    561 ;src/game.c:177: spawned++;
    0000023B 04               [ 4]  562 	inc	b
    0000023C                        563 00119$:
                                    564 ;src/game.c:172: for (i = 0; i < MAX_ENEMIES && spawned < spawnCount; i++)
    0000023C 0C               [ 4]  565 	inc	c
    0000023D 18 D4            [12]  566 	jr	00118$
    0000023F                        567 00112$:
                                    568 ;src/game.c:181: UINT8 baseInterval = getSpawnInterval();
    0000023F CDr8Er01         [24]  569 	call	_getSpawnInterval
    00000242 4F               [ 4]  570 	ld	c, a
                                    571 ;src/game.c:182: UINT8 randomVariation = simpleRand() % (SPAWN_RANDOMNESS * 2);
    00000243 C5               [16]  572 	push	bc
    00000244 CDr00r00         [24]  573 	call	_simpleRand
    00000247 1E 32            [ 8]  574 	ld	e, #0x32
                                    575 ;src/game.c:183: enemySpawnTimer = baseInterval + randomVariation;
    00000249 CDr00r00         [24]  576 	call	__moduchar
    0000024C 79               [ 4]  577 	ld	a, c
    0000024D C1               [12]  578 	pop	bc
    0000024E 81               [ 4]  579 	add	a, c
    0000024F EAr0Br00         [16]  580 	ld	(#_enemySpawnTimer),a
    00000252                        581 00120$:
                                    582 ;src/game.c:185: }
    00000252 33               [ 8]  583 	inc	sp
    00000253 C9               [16]  584 	ret
                                    585 ;src/game.c:187: void Game_update(void)
                                    586 ;	---------------------------------
                                    587 ; Function Game_update
                                    588 ; ---------------------------------
    00000254                        589 _Game_update::
    00000254 3B               [ 8]  590 	dec	sp
                                    591 ;src/game.c:189: UINT8 joy = joypad();
    00000255 CDr00r00         [24]  592 	call	_joypad
    00000258 F8 00            [12]  593 	ldhl	sp,	#0
    0000025A 77               [ 8]  594 	ld	(hl), a
                                    595 ;src/game.c:192: game.frameCounter++;
    0000025B 21r09r00         [12]  596 	ld	hl, #(_game + 9)
    0000025E 2A               [ 8]  597 	ld	a, (hl+)
    0000025F 4F               [ 4]  598 	ld	c, a
    00000260 46               [ 8]  599 	ld	b, (hl)
    00000261 03               [ 8]  600 	inc	bc
    00000262 21r09r00         [12]  601 	ld	hl, #(_game + 9)
    00000265 79               [ 4]  602 	ld	a, c
    00000266 22               [ 8]  603 	ld	(hl+), a
    00000267 70               [ 8]  604 	ld	(hl), b
                                    605 ;src/game.c:194: updateDifficulty();
    00000268 CDr6Ar01         [24]  606 	call	_updateDifficulty
                                    607 ;src/game.c:195: updatePlayerInput(joy);
    0000026B F8 00            [12]  608 	ldhl	sp,	#0
    0000026D 7E               [ 8]  609 	ld	a, (hl)
    0000026E CDr00r00         [24]  610 	call	_updatePlayerInput
                                    611 ;src/game.c:196: updatePlayerPhysics();
    00000271 CDr00r00         [24]  612 	call	_updatePlayerPhysics
                                    613 ;src/game.c:197: updatePlayerAnimation();
    00000274 CDr00r00         [24]  614 	call	_updatePlayerAnimation
                                    615 ;src/game.c:199: if ((joy & J_A) && fireDelay == 0)
    00000277 E5               [16]  616 	push	hl
    00000278 F8 02            [12]  617 	ldhl	sp,	#2
    0000027A CB 66            [12]  618 	bit	4, (hl)
    0000027C E1               [12]  619 	pop	hl
    0000027D 28 11            [12]  620 	jr	Z, 00104$
    0000027F FAr0Cr00         [16]  621 	ld	a, (#_Game_update_fireDelay_10000_249)
    00000282 B7               [ 4]  622 	or	a, a
    00000283 20 0B            [12]  623 	jr	NZ, 00104$
                                    624 ;src/game.c:201: if (fireBullet())
    00000285 CDr00r00         [24]  625 	call	_fireBullet
    00000288 B7               [ 4]  626 	or	a, a
    00000289 28 05            [12]  627 	jr	Z, 00104$
                                    628 ;src/game.c:203: fireDelay = FIRE_RATE;
    0000028B 21r0Cr00         [12]  629 	ld	hl, #_Game_update_fireDelay_10000_249
    0000028E 36 0F            [12]  630 	ld	(hl), #0x0f
    00000290                        631 00104$:
                                    632 ;src/game.c:206: if (fireDelay > 0) fireDelay--;
    00000290 21r0Cr00         [12]  633 	ld	hl, #_Game_update_fireDelay_10000_249
    00000293 7E               [ 8]  634 	ld	a, (hl)
    00000294 B7               [ 4]  635 	or	a, a
    00000295 28 01            [12]  636 	jr	Z, 00107$
    00000297 35               [12]  637 	dec	(hl)
    00000298                        638 00107$:
                                    639 ;src/game.c:208: updateBullets();
    00000298 CDr00r00         [24]  640 	call	_updateBullets
                                    641 ;src/game.c:209: updateEnemySpawning();
    0000029B CDrC0r01         [24]  642 	call	_updateEnemySpawning
                                    643 ;src/game.c:212: for (i = 0; i < MAX_ENEMIES; i++)
    0000029E 0E 00            [ 8]  644 	ld	c, #0x00
    000002A0                        645 00109$:
                                    646 ;src/game.c:214: updateEnemyPhysics(&enemies[i]);
    000002A0 06 00            [ 8]  647 	ld	b, #0x00
    000002A2 69               [ 4]  648 	ld	l, c
    000002A3 60               [ 4]  649 	ld	h, b
    000002A4 29               [ 8]  650 	add	hl, hl
    000002A5 29               [ 8]  651 	add	hl, hl
    000002A6 09               [ 8]  652 	add	hl, bc
    000002A7 29               [ 8]  653 	add	hl, hl
    000002A8 29               [ 8]  654 	add	hl, hl
    000002A9 11r00r00         [12]  655 	ld	de, #_enemies
    000002AC 19               [ 8]  656 	add	hl, de
    000002AD 5D               [ 4]  657 	ld	e, l
    000002AE 54               [ 4]  658 	ld	d, h
    000002AF C5               [16]  659 	push	bc
    000002B0 D5               [16]  660 	push	de
    000002B1 CDr00r00         [24]  661 	call	_updateEnemyPhysics
    000002B4 D1               [12]  662 	pop	de
                                    663 ;src/game.c:215: updateEnemyAnimation(&enemies[i]);
    000002B5 CDr00r00         [24]  664 	call	_updateEnemyAnimation
    000002B8 C1               [12]  665 	pop	bc
                                    666 ;src/game.c:212: for (i = 0; i < MAX_ENEMIES; i++)
    000002B9 0C               [ 4]  667 	inc	c
    000002BA 79               [ 4]  668 	ld	a, c
    000002BB D6 04            [ 8]  669 	sub	a, #0x04
    000002BD 38 E1            [12]  670 	jr	C, 00109$
                                    671 ;src/game.c:218: checkBulletEnemyCollisions();
    000002BF CDr00r00         [24]  672 	call	_checkBulletEnemyCollisions
                                    673 ;src/game.c:219: checkPlayerEnemyCollisions();
    000002C2 CDr00r00         [24]  674 	call	_checkPlayerEnemyCollisions
                                    675 ;src/game.c:220: checkWaveCompletion();
    000002C5 33               [ 8]  676 	inc	sp
    000002C6 C3r9Er01         [16]  677 	jp	_checkWaveCompletion
                                    678 ;src/game.c:221: }
    000002C9 33               [ 8]  679 	inc	sp
    000002CA C9               [16]  680 	ret
                                    681 ;src/game.c:223: void Game_draw(void)
                                    682 ;	---------------------------------
                                    683 ; Function Game_draw
                                    684 ; ---------------------------------
    000002CB                        685 _Game_draw::
                                    686 ;src/game.c:227: drawPlayer();
    000002CB CDr00r00         [24]  687 	call	_drawPlayer
                                    688 ;src/game.c:228: for (i = 0; i < MAX_ENEMIES; i++)
    000002CE 0E 00            [ 8]  689 	ld	c, #0x00
    000002D0                        690 00103$:
                                    691 ;src/game.c:230: drawEnemy(&enemies[i]);
    000002D0 06 00            [ 8]  692 	ld	b, #0x00
    000002D2 69               [ 4]  693 	ld	l, c
    000002D3 60               [ 4]  694 	ld	h, b
    000002D4 29               [ 8]  695 	add	hl, hl
    000002D5 29               [ 8]  696 	add	hl, hl
    000002D6 09               [ 8]  697 	add	hl, bc
    000002D7 29               [ 8]  698 	add	hl, hl
    000002D8 29               [ 8]  699 	add	hl, hl
    000002D9 11r00r00         [12]  700 	ld	de, #_enemies
    000002DC 19               [ 8]  701 	add	hl, de
    000002DD 5D               [ 4]  702 	ld	e, l
    000002DE 54               [ 4]  703 	ld	d, h
    000002DF C5               [16]  704 	push	bc
    000002E0 CDr00r00         [24]  705 	call	_drawEnemy
    000002E3 C1               [12]  706 	pop	bc
                                    707 ;src/game.c:228: for (i = 0; i < MAX_ENEMIES; i++)
    000002E4 0C               [ 4]  708 	inc	c
    000002E5 79               [ 4]  709 	ld	a, c
    000002E6 D6 04            [ 8]  710 	sub	a, #0x04
    000002E8 38 E6            [12]  711 	jr	C, 00103$
                                    712 ;c:\gbdk\include\gb\gb.h:1475: SCX_REG+=x, SCY_REG+=y;
    000002EA F0r00            [12]  713 	ldh	a, (_SCX_REG + 0)
    000002EC 3C               [ 4]  714 	inc	a
    000002ED E0r00            [12]  715 	ldh	(_SCX_REG + 0), a
                                    716 ;src/game.c:234: drawHearts();
    000002EF CDr00r00         [24]  717 	call	_drawHearts
                                    718 ;src/game.c:235: drawScore();
    000002F2 CDr00r00         [24]  719 	call	_drawScore
                                    720 ;src/game.c:236: drawWave();
                                    721 ;src/game.c:237: }
    000002F5 C3r00r00         [16]  722 	jp	_drawWave
                                    723 	.area _CODE
                                    724 	.area _INITIALIZER
                                    725 	.area _CABS (ABS)
