                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.1 #15267 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module ui
                                      6 	
                                      7 ;--------------------------------------------------------
                                      8 ; Public variables in this module
                                      9 ;--------------------------------------------------------
                                     10 	.globl _playSound
                                     11 	.globl _printf
                                     12 	.globl _gotoxy
                                     13 	.globl _fill_bkg_rect
                                     14 	.globl _wait_vbl_done
                                     15 	.globl _joypad
                                     16 	.globl _drawHearts
                                     17 	.globl _drawScore
                                     18 	.globl _drawWave
                                     19 	.globl _showStartScreen
                                     20 	.globl _showGameOverScreen
                                     21 ;--------------------------------------------------------
                                     22 ; special function registers
                                     23 ;--------------------------------------------------------
                                     24 ;--------------------------------------------------------
                                     25 ; ram data
                                     26 ;--------------------------------------------------------
                                     27 	.area _DATA
                                     28 ;--------------------------------------------------------
                                     29 ; ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area _INITIALIZED
                                     32 ;--------------------------------------------------------
                                     33 ; absolute external ram data
                                     34 ;--------------------------------------------------------
                                     35 	.area _DABS (ABS)
                                     36 ;--------------------------------------------------------
                                     37 ; global & static initialisations
                                     38 ;--------------------------------------------------------
                                     39 	.area _HOME
                                     40 	.area _GSINIT
                                     41 	.area _GSFINAL
                                     42 	.area _GSINIT
                                     43 ;--------------------------------------------------------
                                     44 ; Home
                                     45 ;--------------------------------------------------------
                                     46 	.area _HOME
                                     47 	.area _HOME
                                     48 ;--------------------------------------------------------
                                     49 ; code
                                     50 ;--------------------------------------------------------
                                     51 	.area _CODE
                                     52 ;src/ui.c:10: void drawHearts(void)
                                     53 ;	---------------------------------
                                     54 ; Function drawHearts
                                     55 ; ---------------------------------
    00000000                         56 _drawHearts::
    00000000 E8 FC            [16]   57 	add	sp, #-4
                                     58 ;src/ui.c:14: for (i = 0; i < MAX_LIVES; i++)
    00000002 F8 03            [12]   59 	ldhl	sp,	#3
    00000004 36 00            [12]   60 	ld	(hl), #0x00
    00000006                         61 00133$:
                                     62 ;src/ui.c:16: UINT8 spriteBase = 28 + (i * 2);
    00000006 F8 03            [12]   63 	ldhl	sp,	#3
    00000008 7E               [ 8]   64 	ld	a, (hl)
    00000009 87               [ 4]   65 	add	a, a
    0000000A C6 1C            [ 8]   66 	add	a, #0x1c
    0000000C F8 00            [12]   67 	ldhl	sp,	#0
    0000000E 77               [ 8]   68 	ld	(hl), a
                                     69 ;src/ui.c:17: if (i < game.lives - 1)
    0000000F 21r00r00         [12]   70 	ld	hl, #_game
    00000012 4E               [ 8]   71 	ld	c, (hl)
    00000013 06 00            [ 8]   72 	ld	b, #0x00
    00000015 0B               [ 8]   73 	dec	bc
    00000016 F8 03            [12]   74 	ldhl	sp,	#3
    00000018 3A               [ 8]   75 	ld	a, (hl-)
    00000019 2B               [ 8]   76 	dec	hl
    0000001A 22               [ 8]   77 	ld	(hl+), a
    0000001B AF               [ 4]   78 	xor	a, a
    0000001C 32               [ 8]   79 	ld	(hl-), a
    0000001D 2A               [ 8]   80 	ld	a, (hl+)
    0000001E 91               [ 4]   81 	sub	a, c
    0000001F 7E               [ 8]   82 	ld	a, (hl)
    00000020 98               [ 4]   83 	sbc	a, b
    00000021 56               [ 8]   84 	ld	d, (hl)
    00000022 78               [ 4]   85 	ld	a, b
    00000023 CB 7F            [ 8]   86 	bit	7,a
    00000025 28 07            [12]   87 	jr	Z, 00180$
    00000027 CB 7A            [ 8]   88 	bit	7, d
    00000029 20 08            [12]   89 	jr	NZ, 00181$
    0000002B BF               [ 4]   90 	cp	a, a
    0000002C 18 05            [12]   91 	jr	00181$
    0000002E                         92 00180$:
    0000002E CB 7A            [ 8]   93 	bit	7, d
    00000030 28 01            [12]   94 	jr	Z, 00181$
    00000032 37               [ 4]   95 	scf
    00000033                         96 00181$:
    00000033 30 4D            [12]   97 	jr	NC, 00114$
                                     98 ;c:\gbdk\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    00000035 F8 00            [12]   99 	ldhl	sp,	#0
    00000037 5E               [ 8]  100 	ld	e, (hl)
    00000038 AF               [ 4]  101 	xor	a, a
    00000039 57               [ 4]  102 	ld	d, a
    0000003A CB 23            [ 8]  103 	sla	e
    0000003C CB 12            [ 8]  104 	rl	d
    0000003E CB 23            [ 8]  105 	sla	e
    00000040 CB 12            [ 8]  106 	rl	d
    00000042 21r01r00         [12]  107 	ld	hl,#_shadow_OAM + 1
    00000045 19               [ 8]  108 	add	hl,de
    00000046 23               [ 8]  109 	inc	hl
    00000047 36 31            [12]  110 	ld	(hl), #0x31
                                    111 ;src/ui.c:20: set_sprite_tile(spriteBase + 1, 49); // full heart
    00000049 F8 00            [12]  112 	ldhl	sp,	#0
    0000004B 2A               [ 8]  113 	ld	a, (hl+)
    0000004C 23               [ 8]  114 	inc	hl
    0000004D 3C               [ 4]  115 	inc	a
    0000004E 77               [ 8]  116 	ld	(hl), a
    0000004F 4E               [ 8]  117 	ld	c, (hl)
                                    118 ;c:\gbdk\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    00000050 AF               [ 4]  119 	xor	a, a
    00000051 69               [ 4]  120 	ld	l, c
    00000052 67               [ 4]  121 	ld	h, a
    00000053 29               [ 8]  122 	add	hl, hl
    00000054 29               [ 8]  123 	add	hl, hl
    00000055 01r00r00         [12]  124 	ld	bc, #_shadow_OAM
    00000058 09               [ 8]  125 	add	hl, bc
    00000059 23               [ 8]  126 	inc	hl
    0000005A 23               [ 8]  127 	inc	hl
    0000005B 36 31            [12]  128 	ld	(hl), #0x31
                                    129 ;src/ui.c:21: move_sprite(spriteBase, 8 + (i * 16), 8);
    0000005D F8 03            [12]  130 	ldhl	sp,	#3
    0000005F 7E               [ 8]  131 	ld	a, (hl)
    00000060 CB 37            [ 8]  132 	swap	a
    00000062 E6 F0            [ 8]  133 	and	a, #0xf0
    00000064 C6 08            [ 8]  134 	add	a, #0x08
    00000066 4F               [ 4]  135 	ld	c, a
    00000067 41               [ 4]  136 	ld	b, c
                                    137 ;c:\gbdk\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000068 21r00r00         [12]  138 	ld	hl, #_shadow_OAM
    0000006B 19               [ 8]  139 	add	hl, de
                                    140 ;c:\gbdk\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    0000006C 3E 08            [ 8]  141 	ld	a, #0x08
    0000006E 22               [ 8]  142 	ld	(hl+), a
    0000006F 70               [ 8]  143 	ld	(hl), b
                                    144 ;src/ui.c:22: move_sprite(spriteBase + 1, 8 + (i * 16), 16);
    00000070 F8 02            [12]  145 	ldhl	sp,	#2
                                    146 ;c:\gbdk\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000072 6E               [ 8]  147 	ld	l, (hl)
    00000073 11r00r00         [12]  148 	ld	de, #_shadow_OAM+0
    00000076 26 00            [ 8]  149 	ld	h, #0x00
    00000078 29               [ 8]  150 	add	hl, hl
    00000079 29               [ 8]  151 	add	hl, hl
    0000007A 19               [ 8]  152 	add	hl, de
                                    153 ;c:\gbdk\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    0000007B 3E 10            [ 8]  154 	ld	a, #0x10
    0000007D 22               [ 8]  155 	ld	(hl+), a
    0000007E 71               [ 8]  156 	ld	(hl), c
                                    157 ;src/ui.c:22: move_sprite(spriteBase + 1, 8 + (i * 16), 16);
    0000007F C3r7Dr01         [16]  158 	jp	00134$
    00000082                        159 00114$:
                                    160 ;src/ui.c:24: else if (i == game.lives - 1)
    00000082 F8 01            [12]  161 	ldhl	sp,	#1
    00000084 7E               [ 8]  162 	ld	a, (hl)
    00000085 91               [ 4]  163 	sub	a, c
    00000086 C2r5Ar01         [16]  164 	jp	NZ, 00111$
    00000089 AF               [ 4]  165 	xor	a, a
    0000008A 90               [ 4]  166 	sub	a, b
    0000008B C2r5Ar01         [16]  167 	jp	NZ, 00111$
                                    168 ;src/ui.c:26: if (quarterLife == 1)
    0000008E FAr00r00         [16]  169 	ld	a, (#_quarterLife)
    00000091 3D               [ 4]  170 	dec	a
    00000092 20 23            [12]  171 	jr	NZ, 00108$
                                    172 ;c:\gbdk\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    00000094 01r00r00         [12]  173 	ld	bc, #_shadow_OAM+0
    00000097 F8 00            [12]  174 	ldhl	sp,	#0
    00000099 5E               [ 8]  175 	ld	e, (hl)
    0000009A AF               [ 4]  176 	xor	a, a
    0000009B 6B               [ 4]  177 	ld	l, e
    0000009C 67               [ 4]  178 	ld	h, a
    0000009D 29               [ 8]  179 	add	hl, hl
    0000009E 29               [ 8]  180 	add	hl, hl
    0000009F 09               [ 8]  181 	add	hl, bc
    000000A0 23               [ 8]  182 	inc	hl
    000000A1 23               [ 8]  183 	inc	hl
    000000A2 36 32            [12]  184 	ld	(hl), #0x32
                                    185 ;src/ui.c:29: set_sprite_tile(spriteBase + 1, 50);
    000000A4 F8 00            [12]  186 	ldhl	sp,	#0
    000000A6 4E               [ 8]  187 	ld	c, (hl)
    000000A7 0C               [ 4]  188 	inc	c
                                    189 ;c:\gbdk\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    000000A8 AF               [ 4]  190 	xor	a, a
    000000A9 69               [ 4]  191 	ld	l, c
    000000AA 67               [ 4]  192 	ld	h, a
    000000AB 29               [ 8]  193 	add	hl, hl
    000000AC 29               [ 8]  194 	add	hl, hl
    000000AD 11r00r00         [12]  195 	ld	de, #_shadow_OAM
    000000B0 19               [ 8]  196 	add	hl, de
    000000B1 23               [ 8]  197 	inc	hl
    000000B2 23               [ 8]  198 	inc	hl
    000000B3 36 32            [12]  199 	ld	(hl), #0x32
                                    200 ;src/ui.c:29: set_sprite_tile(spriteBase + 1, 50);
    000000B5 18 75            [12]  201 	jr	00109$
    000000B7                        202 00108$:
                                    203 ;src/ui.c:31: else if (quarterLife == 2)
    000000B7 FAr00r00         [16]  204 	ld	a, (#_quarterLife)
    000000BA D6 02            [ 8]  205 	sub	a, #0x02
    000000BC 20 23            [12]  206 	jr	NZ, 00105$
                                    207 ;c:\gbdk\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    000000BE F8 00            [12]  208 	ldhl	sp,	#0
    000000C0 4E               [ 8]  209 	ld	c, (hl)
    000000C1 AF               [ 4]  210 	xor	a, a
    000000C2 69               [ 4]  211 	ld	l, c
    000000C3 67               [ 4]  212 	ld	h, a
    000000C4 29               [ 8]  213 	add	hl, hl
    000000C5 29               [ 8]  214 	add	hl, hl
    000000C6 11r00r00         [12]  215 	ld	de, #_shadow_OAM
    000000C9 19               [ 8]  216 	add	hl, de
    000000CA 23               [ 8]  217 	inc	hl
    000000CB 23               [ 8]  218 	inc	hl
    000000CC 36 33            [12]  219 	ld	(hl), #0x33
                                    220 ;src/ui.c:34: set_sprite_tile(spriteBase + 1, 51);
    000000CE F8 00            [12]  221 	ldhl	sp,	#0
    000000D0 5E               [ 8]  222 	ld	e, (hl)
    000000D1 1C               [ 4]  223 	inc	e
                                    224 ;c:\gbdk\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    000000D2 01r00r00         [12]  225 	ld	bc, #_shadow_OAM+0
    000000D5 AF               [ 4]  226 	xor	a, a
    000000D6 6B               [ 4]  227 	ld	l, e
    000000D7 67               [ 4]  228 	ld	h, a
    000000D8 29               [ 8]  229 	add	hl, hl
    000000D9 29               [ 8]  230 	add	hl, hl
    000000DA 09               [ 8]  231 	add	hl, bc
    000000DB 23               [ 8]  232 	inc	hl
    000000DC 23               [ 8]  233 	inc	hl
    000000DD 36 33            [12]  234 	ld	(hl), #0x33
                                    235 ;src/ui.c:34: set_sprite_tile(spriteBase + 1, 51);
    000000DF 18 4B            [12]  236 	jr	00109$
    000000E1                        237 00105$:
                                    238 ;src/ui.c:36: else if (quarterLife == 3)
    000000E1 FAr00r00         [16]  239 	ld	a, (#_quarterLife)
    000000E4 D6 03            [ 8]  240 	sub	a, #0x03
    000000E6 20 23            [12]  241 	jr	NZ, 00102$
                                    242 ;c:\gbdk\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    000000E8 F8 00            [12]  243 	ldhl	sp,	#0
    000000EA 4E               [ 8]  244 	ld	c, (hl)
    000000EB AF               [ 4]  245 	xor	a, a
    000000EC 69               [ 4]  246 	ld	l, c
    000000ED 67               [ 4]  247 	ld	h, a
    000000EE 29               [ 8]  248 	add	hl, hl
    000000EF 29               [ 8]  249 	add	hl, hl
    000000F0 11r00r00         [12]  250 	ld	de, #_shadow_OAM
    000000F3 19               [ 8]  251 	add	hl, de
    000000F4 23               [ 8]  252 	inc	hl
    000000F5 23               [ 8]  253 	inc	hl
    000000F6 36 34            [12]  254 	ld	(hl), #0x34
                                    255 ;src/ui.c:39: set_sprite_tile(spriteBase + 1, 52);
    000000F8 F8 00            [12]  256 	ldhl	sp,	#0
    000000FA 4E               [ 8]  257 	ld	c, (hl)
    000000FB 0C               [ 4]  258 	inc	c
                                    259 ;c:\gbdk\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    000000FC AF               [ 4]  260 	xor	a, a
    000000FD 69               [ 4]  261 	ld	l, c
    000000FE 67               [ 4]  262 	ld	h, a
    000000FF 29               [ 8]  263 	add	hl, hl
    00000100 29               [ 8]  264 	add	hl, hl
    00000101 11r00r00         [12]  265 	ld	de, #_shadow_OAM
    00000104 19               [ 8]  266 	add	hl, de
    00000105 23               [ 8]  267 	inc	hl
    00000106 23               [ 8]  268 	inc	hl
    00000107 36 34            [12]  269 	ld	(hl), #0x34
                                    270 ;src/ui.c:39: set_sprite_tile(spriteBase + 1, 52);
    00000109 18 21            [12]  271 	jr	00109$
    0000010B                        272 00102$:
                                    273 ;c:\gbdk\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    0000010B F8 00            [12]  274 	ldhl	sp,	#0
    0000010D 4E               [ 8]  275 	ld	c, (hl)
    0000010E AF               [ 4]  276 	xor	a, a
    0000010F 69               [ 4]  277 	ld	l, c
    00000110 67               [ 4]  278 	ld	h, a
    00000111 29               [ 8]  279 	add	hl, hl
    00000112 29               [ 8]  280 	add	hl, hl
    00000113 11r00r00         [12]  281 	ld	de, #_shadow_OAM
    00000116 19               [ 8]  282 	add	hl, de
    00000117 23               [ 8]  283 	inc	hl
    00000118 23               [ 8]  284 	inc	hl
    00000119 36 31            [12]  285 	ld	(hl), #0x31
                                    286 ;src/ui.c:44: set_sprite_tile(spriteBase + 1, 49);
    0000011B F8 00            [12]  287 	ldhl	sp,	#0
    0000011D 4E               [ 8]  288 	ld	c, (hl)
    0000011E 0C               [ 4]  289 	inc	c
                                    290 ;c:\gbdk\include\gb\gb.h:1887: shadow_OAM[nb].tile=tile;
    0000011F AF               [ 4]  291 	xor	a, a
    00000120 69               [ 4]  292 	ld	l, c
    00000121 67               [ 4]  293 	ld	h, a
    00000122 29               [ 8]  294 	add	hl, hl
    00000123 29               [ 8]  295 	add	hl, hl
    00000124 11r00r00         [12]  296 	ld	de, #_shadow_OAM
    00000127 19               [ 8]  297 	add	hl, de
    00000128 23               [ 8]  298 	inc	hl
    00000129 23               [ 8]  299 	inc	hl
    0000012A 36 31            [12]  300 	ld	(hl), #0x31
                                    301 ;src/ui.c:44: set_sprite_tile(spriteBase + 1, 49);
    0000012C                        302 00109$:
                                    303 ;src/ui.c:46: move_sprite(spriteBase, 8 + (i * 16), 8);
    0000012C F8 03            [12]  304 	ldhl	sp,	#3
    0000012E 7E               [ 8]  305 	ld	a, (hl)
    0000012F CB 37            [ 8]  306 	swap	a
    00000131 E6 F0            [ 8]  307 	and	a, #0xf0
    00000133 C6 08            [ 8]  308 	add	a, #0x08
    00000135 57               [ 4]  309 	ld	d, a
    00000136 5A               [ 4]  310 	ld	e, d
                                    311 ;c:\gbdk\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    00000137 F8 00            [12]  312 	ldhl	sp,	#0
    00000139 4E               [ 8]  313 	ld	c, (hl)
    0000013A AF               [ 4]  314 	xor	a, a
    0000013B 69               [ 4]  315 	ld	l, c
    0000013C 67               [ 4]  316 	ld	h, a
    0000013D 29               [ 8]  317 	add	hl, hl
    0000013E 29               [ 8]  318 	add	hl, hl
    0000013F 01r00r00         [12]  319 	ld	bc, #_shadow_OAM
    00000142 09               [ 8]  320 	add	hl, bc
                                    321 ;c:\gbdk\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    00000143 3E 08            [ 8]  322 	ld	a, #0x08
    00000145 22               [ 8]  323 	ld	(hl+), a
    00000146 73               [ 8]  324 	ld	(hl), e
                                    325 ;src/ui.c:47: move_sprite(spriteBase + 1, 8 + (i * 16), 16);
    00000147 F8 00            [12]  326 	ldhl	sp,	#0
    00000149 5E               [ 8]  327 	ld	e, (hl)
    0000014A 1C               [ 4]  328 	inc	e
                                    329 ;c:\gbdk\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    0000014B 01r00r00         [12]  330 	ld	bc, #_shadow_OAM+0
    0000014E AF               [ 4]  331 	xor	a, a
    0000014F 6B               [ 4]  332 	ld	l, e
    00000150 67               [ 4]  333 	ld	h, a
    00000151 29               [ 8]  334 	add	hl, hl
    00000152 29               [ 8]  335 	add	hl, hl
    00000153 09               [ 8]  336 	add	hl, bc
                                    337 ;c:\gbdk\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    00000154 3E 10            [ 8]  338 	ld	a, #0x10
    00000156 22               [ 8]  339 	ld	(hl+), a
    00000157 72               [ 8]  340 	ld	(hl), d
                                    341 ;src/ui.c:47: move_sprite(spriteBase + 1, 8 + (i * 16), 16);
    00000158 18 23            [12]  342 	jr	00134$
    0000015A                        343 00111$:
                                    344 ;c:\gbdk\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    0000015A F8 00            [12]  345 	ldhl	sp,	#0
    0000015C 4E               [ 8]  346 	ld	c, (hl)
    0000015D AF               [ 4]  347 	xor	a, a
    0000015E 69               [ 4]  348 	ld	l, c
    0000015F 67               [ 4]  349 	ld	h, a
    00000160 29               [ 8]  350 	add	hl, hl
    00000161 29               [ 8]  351 	add	hl, hl
    00000162 11r00r00         [12]  352 	ld	de, #_shadow_OAM
    00000165 19               [ 8]  353 	add	hl, de
                                    354 ;c:\gbdk\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    00000166 3E C8            [ 8]  355 	ld	a, #0xc8
    00000168 22               [ 8]  356 	ld	(hl+), a
    00000169 36 C8            [12]  357 	ld	(hl), #0xc8
                                    358 ;src/ui.c:52: move_sprite(spriteBase + 1, OFFSCREEN_X, OFFSCREEN_Y);
    0000016B F8 00            [12]  359 	ldhl	sp,	#0
    0000016D 4E               [ 8]  360 	ld	c, (hl)
    0000016E 0C               [ 4]  361 	inc	c
                                    362 ;c:\gbdk\include\gb\gb.h:1973: OAM_item_t * itm = &shadow_OAM[nb];
    0000016F AF               [ 4]  363 	xor	a, a
    00000170 69               [ 4]  364 	ld	l, c
    00000171 67               [ 4]  365 	ld	h, a
    00000172 29               [ 8]  366 	add	hl, hl
    00000173 29               [ 8]  367 	add	hl, hl
    00000174 11r00r00         [12]  368 	ld	de, #_shadow_OAM
    00000177 19               [ 8]  369 	add	hl, de
                                    370 ;c:\gbdk\include\gb\gb.h:1974: itm->y=y, itm->x=x;
    00000178 3E C8            [ 8]  371 	ld	a, #0xc8
    0000017A 22               [ 8]  372 	ld	(hl+), a
    0000017B 36 C8            [12]  373 	ld	(hl), #0xc8
                                    374 ;src/ui.c:52: move_sprite(spriteBase + 1, OFFSCREEN_X, OFFSCREEN_Y);
    0000017D                        375 00134$:
                                    376 ;src/ui.c:14: for (i = 0; i < MAX_LIVES; i++)
    0000017D F8 03            [12]  377 	ldhl	sp,	#3
    0000017F 34               [12]  378 	inc	(hl)
    00000180 7E               [ 8]  379 	ld	a, (hl)
    00000181 D6 03            [ 8]  380 	sub	a, #0x03
    00000183 DAr06r00         [16]  381 	jp	C, 00133$
                                    382 ;src/ui.c:55: }
    00000186 E8 04            [16]  383 	add	sp, #4
    00000188 C9               [16]  384 	ret
                                    385 ;src/ui.c:57: void drawScore(void)
                                    386 ;	---------------------------------
                                    387 ; Function drawScore
                                    388 ; ---------------------------------
    00000189                        389 _drawScore::
                                    390 ;src/ui.c:59: gotoxy(13, 0);
    00000189 21 0D 00         [12]  391 	ld	hl, #0x0d
    0000018C E5               [16]  392 	push	hl
    0000018D CDr00r00         [24]  393 	call	_gotoxy
    00000190 E1               [12]  394 	pop	hl
                                    395 ;src/ui.c:60: printf("%05d", game.score);
    00000191 21r01r00         [12]  396 	ld	hl, #(_game + 1)
    00000194 2A               [ 8]  397 	ld	a, (hl+)
    00000195 4F               [ 4]  398 	ld	c, a
    00000196 46               [ 8]  399 	ld	b, (hl)
    00000197 C5               [16]  400 	push	bc
    00000198 11rA2r01         [12]  401 	ld	de, #___str_0
    0000019B D5               [16]  402 	push	de
    0000019C CDr00r00         [24]  403 	call	_printf
    0000019F E8 04            [16]  404 	add	sp, #4
                                    405 ;src/ui.c:61: }
    000001A1 C9               [16]  406 	ret
    000001A2                        407 ___str_0:
    000001A2 25 30 35 64            408 	.ascii "%05d"
    000001A6 00                     409 	.db 0x00
                                    410 ;src/ui.c:63: void drawWave(void)
                                    411 ;	---------------------------------
                                    412 ; Function drawWave
                                    413 ; ---------------------------------
    000001A7                        414 _drawWave::
                                    415 ;src/ui.c:65: gotoxy(0, 0);
    000001A7 AF               [ 4]  416 	xor	a, a
    000001A8 0F               [ 4]  417 	rrca
    000001A9 F5               [16]  418 	push	af
    000001AA CDr00r00         [24]  419 	call	_gotoxy
    000001AD E1               [12]  420 	pop	hl
                                    421 ;src/ui.c:66: printf(" Wave:%d", game.waveNumber);
    000001AE 21r05r00         [12]  422 	ld	hl, #(_game + 5)
    000001B1 4E               [ 8]  423 	ld	c, (hl)
    000001B2 06 00            [ 8]  424 	ld	b, #0x00
    000001B4 C5               [16]  425 	push	bc
    000001B5 11rBFr01         [12]  426 	ld	de, #___str_1
    000001B8 D5               [16]  427 	push	de
    000001B9 CDr00r00         [24]  428 	call	_printf
    000001BC E8 04            [16]  429 	add	sp, #4
                                    430 ;src/ui.c:67: }
    000001BE C9               [16]  431 	ret
    000001BF                        432 ___str_1:
    000001BF 20 57 61 76 65 3A 25   433 	.ascii " Wave:%d"
             64
    000001C7 00                     434 	.db 0x00
                                    435 ;src/ui.c:69: void showStartScreen(void)
                                    436 ;	---------------------------------
                                    437 ; Function showStartScreen
                                    438 ; ---------------------------------
    000001C8                        439 _showStartScreen::
    000001C8 3B               [ 8]  440 	dec	sp
    000001C9 3B               [ 8]  441 	dec	sp
                                    442 ;src/ui.c:71: UINT8 blinkCounter = 0;
    000001CA F8 01            [12]  443 	ldhl	sp,	#1
                                    444 ;src/ui.c:72: UINT8 showText = 1;
    000001CC AF               [ 4]  445 	xor	a, a
    000001CD 32               [ 8]  446 	ld	(hl-), a
    000001CE 36 01            [12]  447 	ld	(hl), #0x01
                                    448 ;src/ui.c:74: SCX_REG = 0;
    000001D0 AF               [ 4]  449 	xor	a, a
    000001D1 E0r00            [12]  450 	ldh	(_SCX_REG + 0), a
                                    451 ;src/ui.c:75: SCY_REG = 0;
    000001D3 AF               [ 4]  452 	xor	a, a
    000001D4 E0r00            [12]  453 	ldh	(_SCY_REG + 0), a
                                    454 ;src/ui.c:76: HIDE_SPRITES;
    000001D6 F0r00            [12]  455 	ldh	a, (_LCDC_REG + 0)
    000001D8 E6 FD            [ 8]  456 	and	a, #0xfd
    000001DA E0r00            [12]  457 	ldh	(_LCDC_REG + 0), a
                                    458 ;src/ui.c:77: BGP_REG = 0x1B;
    000001DC 3E 1B            [ 8]  459 	ld	a, #0x1b
    000001DE E0r00            [12]  460 	ldh	(_BGP_REG + 0), a
                                    461 ;src/ui.c:78: fill_bkg_rect(0, 0, 20, 18, 0x00);
    000001E0 AF               [ 4]  462 	xor	a, a
    000001E1 67               [ 4]  463 	ld	h, a
    000001E2 2E 12            [ 8]  464 	ld	l, #0x12
    000001E4 E5               [16]  465 	push	hl
    000001E5 3E 14            [ 8]  466 	ld	a, #0x14
    000001E7 F5               [16]  467 	push	af
    000001E8 33               [ 8]  468 	inc	sp
    000001E9 AF               [ 4]  469 	xor	a, a
    000001EA 0F               [ 4]  470 	rrca
    000001EB F5               [16]  471 	push	af
    000001EC CDr00r00         [24]  472 	call	_fill_bkg_rect
    000001EF E8 05            [16]  473 	add	sp, #5
                                    474 ;src/ui.c:80: gotoxy(4, 5);
    000001F1 21 04 05         [12]  475 	ld	hl, #0x504
    000001F4 E5               [16]  476 	push	hl
    000001F5 CDr00r00         [24]  477 	call	_gotoxy
    000001F8 E1               [12]  478 	pop	hl
                                    479 ;src/ui.c:81: printf("SHOOT 'THE");
    000001F9 11r8Ar02         [12]  480 	ld	de, #___str_2
    000001FC D5               [16]  481 	push	de
    000001FD CDr00r00         [24]  482 	call	_printf
    00000200 E1               [12]  483 	pop	hl
                                    484 ;src/ui.c:82: gotoxy(6, 6);
    00000201 21 06 06         [12]  485 	ld	hl, #0x606
    00000204 E5               [16]  486 	push	hl
    00000205 CDr00r00         [24]  487 	call	_gotoxy
    00000208 E1               [12]  488 	pop	hl
                                    489 ;src/ui.c:83: printf("AMOGUS!");
    00000209 11r95r02         [12]  490 	ld	de, #___str_3
    0000020C D5               [16]  491 	push	de
    0000020D CDr00r00         [24]  492 	call	_printf
    00000210 E1               [12]  493 	pop	hl
                                    494 ;src/ui.c:84: gotoxy(8, 9);
    00000211 21 08 09         [12]  495 	ld	hl, #0x908
    00000214 E5               [16]  496 	push	hl
    00000215 CDr00r00         [24]  497 	call	_gotoxy
    00000218 E1               [12]  498 	pop	hl
                                    499 ;src/ui.c:85: printf("BY");
    00000219 11r9Dr02         [12]  500 	ld	de, #___str_4
    0000021C D5               [16]  501 	push	de
    0000021D CDr00r00         [24]  502 	call	_printf
    00000220 E1               [12]  503 	pop	hl
                                    504 ;src/ui.c:86: gotoxy(3, 10);
    00000221 21 03 0A         [12]  505 	ld	hl, #0xa03
    00000224 E5               [16]  506 	push	hl
    00000225 CDr00r00         [24]  507 	call	_gotoxy
    00000228 E1               [12]  508 	pop	hl
                                    509 ;src/ui.c:87: printf("SIZZLING SISIG");
    00000229 11rA0r02         [12]  510 	ld	de, #___str_5
    0000022C D5               [16]  511 	push	de
    0000022D CDr00r00         [24]  512 	call	_printf
    00000230 E1               [12]  513 	pop	hl
                                    514 ;src/ui.c:89: if (game.highScore > 0)
    00000231 21r03r00         [12]  515 	ld	hl, #(_game + 3)
    00000234 2A               [ 8]  516 	ld	a, (hl+)
    00000235 B6               [ 8]  517 	or	a, (hl)
    00000236 28 18            [12]  518 	jr	Z, 00118$
                                    519 ;src/ui.c:91: gotoxy(3, 11);
    00000238 21 03 0B         [12]  520 	ld	hl, #0xb03
    0000023B E5               [16]  521 	push	hl
    0000023C CDr00r00         [24]  522 	call	_gotoxy
    0000023F E1               [12]  523 	pop	hl
                                    524 ;src/ui.c:92: printf("HIGH: %d", game.highScore);
    00000240 21r03r00         [12]  525 	ld	hl, #(_game + 3)
    00000243 2A               [ 8]  526 	ld	a, (hl+)
    00000244 4F               [ 4]  527 	ld	c, a
    00000245 46               [ 8]  528 	ld	b, (hl)
    00000246 C5               [16]  529 	push	bc
    00000247 11rAFr02         [12]  530 	ld	de, #___str_6
    0000024A D5               [16]  531 	push	de
    0000024B CDr00r00         [24]  532 	call	_printf
    0000024E E8 04            [16]  533 	add	sp, #4
                                    534 ;src/ui.c:95: while (1)
    00000250                        535 00118$:
    00000250                        536 00108$:
                                    537 ;src/ui.c:97: if (++blinkCounter > 30)
    00000250 F8 01            [12]  538 	ldhl	sp,	#1
    00000252 34               [12]  539 	inc	(hl)
    00000253 3E 1E            [ 8]  540 	ld	a, #0x1e
    00000255 96               [ 8]  541 	sub	a, (hl)
    00000256 30 24            [12]  542 	jr	NC, 00104$
                                    543 ;src/ui.c:99: blinkCounter = 0;
                                    544 ;src/ui.c:100: showText = !showText;
    00000258 AF               [ 4]  545 	xor	a, a
    00000259 32               [ 8]  546 	ld	(hl-), a
    0000025A 7E               [ 8]  547 	ld	a, (hl)
    0000025B D6 01            [ 8]  548 	sub	a, #0x01
    0000025D 3E 00            [ 8]  549 	ld	a, #0x00
    0000025F 17               [ 4]  550 	rla
    00000260 77               [ 8]  551 	ld	(hl), a
                                    552 ;src/ui.c:101: gotoxy(2, 14);
    00000261 21 02 0E         [12]  553 	ld	hl, #0xe02
    00000264 E5               [16]  554 	push	hl
    00000265 CDr00r00         [24]  555 	call	_gotoxy
    00000268 E1               [12]  556 	pop	hl
                                    557 ;src/ui.c:102: printf(showText ? "PRESS  START" : "              ");
    00000269 F8 00            [12]  558 	ldhl	sp,	#0
    0000026B 7E               [ 8]  559 	ld	a, (hl)
    0000026C B7               [ 4]  560 	or	a, a
    0000026D 28 05            [12]  561 	jr	Z, 00112$
    0000026F 01rB8r02         [12]  562 	ld	bc, #___str_7
    00000272 18 03            [12]  563 	jr	00113$
    00000274                        564 00112$:
    00000274 01rC5r02         [12]  565 	ld	bc, #___str_8
    00000277                        566 00113$:
    00000277 C5               [16]  567 	push	bc
    00000278 CDr00r00         [24]  568 	call	_printf
    0000027B E1               [12]  569 	pop	hl
    0000027C                        570 00104$:
                                    571 ;src/ui.c:105: if (joypad() & J_START)
    0000027C CDr00r00         [24]  572 	call	_joypad
    0000027F 07               [ 4]  573 	rlca
    00000280 38 05            [12]  574 	jr	C, 00110$
                                    575 ;src/ui.c:107: wait_vbl_done();
    00000282 CDr00r00         [24]  576 	call	_wait_vbl_done
    00000285 18 C9            [12]  577 	jr	00108$
    00000287                        578 00110$:
                                    579 ;src/ui.c:109: }
    00000287 33               [ 8]  580 	inc	sp
    00000288 33               [ 8]  581 	inc	sp
    00000289 C9               [16]  582 	ret
    0000028A                        583 ___str_2:
    0000028A 53 48 4F 4F 54 20 27   584 	.ascii "SHOOT 'THE"
             54 48 45
    00000294 00                     585 	.db 0x00
    00000295                        586 ___str_3:
    00000295 41 4D 4F 47 55 53 21   587 	.ascii "AMOGUS!"
    0000029C 00                     588 	.db 0x00
    0000029D                        589 ___str_4:
    0000029D 42 59                  590 	.ascii "BY"
    0000029F 00                     591 	.db 0x00
    000002A0                        592 ___str_5:
    000002A0 53 49 5A 5A 4C 49 4E   593 	.ascii "SIZZLING SISIG"
             47 20 53 49 53 49 47
    000002AE 00                     594 	.db 0x00
    000002AF                        595 ___str_6:
    000002AF 48 49 47 48 3A 20 25   596 	.ascii "HIGH: %d"
             64
    000002B7 00                     597 	.db 0x00
    000002B8                        598 ___str_7:
    000002B8 50 52 45 53 53 20 20   599 	.ascii "PRESS  START"
             53 54 41 52 54
    000002C4 00                     600 	.db 0x00
    000002C5                        601 ___str_8:
    000002C5 20 20 20 20 20 20 20   602 	.ascii "              "
             20 20 20 20 20 20 20
    000002D3 00                     603 	.db 0x00
                                    604 ;src/ui.c:111: UINT8 showGameOverScreen(void)
                                    605 ;	---------------------------------
                                    606 ; Function showGameOverScreen
                                    607 ; ---------------------------------
    000002D4                        608 _showGameOverScreen::
    000002D4 3B               [ 8]  609 	dec	sp
    000002D5 3B               [ 8]  610 	dec	sp
                                    611 ;src/ui.c:113: UINT8 blinkCounter = 0;
    000002D6 F8 01            [12]  612 	ldhl	sp,	#1
                                    613 ;src/ui.c:114: UINT8 showText = 1;
    000002D8 AF               [ 4]  614 	xor	a, a
    000002D9 32               [ 8]  615 	ld	(hl-), a
    000002DA 36 01            [12]  616 	ld	(hl), #0x01
                                    617 ;src/ui.c:117: playSound(SOUND_GAME_OVER);
    000002DC 3E 03            [ 8]  618 	ld	a, #0x03
    000002DE CDr00r00         [24]  619 	call	_playSound
                                    620 ;src/ui.c:119: SCX_REG = 0;
    000002E1 AF               [ 4]  621 	xor	a, a
    000002E2 E0r00            [12]  622 	ldh	(_SCX_REG + 0), a
                                    623 ;src/ui.c:120: SCY_REG = 0;
    000002E4 AF               [ 4]  624 	xor	a, a
    000002E5 E0r00            [12]  625 	ldh	(_SCY_REG + 0), a
                                    626 ;src/ui.c:121: HIDE_SPRITES;
    000002E7 F0r00            [12]  627 	ldh	a, (_LCDC_REG + 0)
    000002E9 E6 FD            [ 8]  628 	and	a, #0xfd
    000002EB E0r00            [12]  629 	ldh	(_LCDC_REG + 0), a
                                    630 ;src/ui.c:122: BGP_REG = 0x1B;
    000002ED 3E 1B            [ 8]  631 	ld	a, #0x1b
    000002EF E0r00            [12]  632 	ldh	(_BGP_REG + 0), a
                                    633 ;src/ui.c:123: fill_bkg_rect(0, 0, 20, 18, 0x00);
    000002F1 AF               [ 4]  634 	xor	a, a
    000002F2 67               [ 4]  635 	ld	h, a
    000002F3 2E 12            [ 8]  636 	ld	l, #0x12
    000002F5 E5               [16]  637 	push	hl
    000002F6 3E 14            [ 8]  638 	ld	a, #0x14
    000002F8 F5               [16]  639 	push	af
    000002F9 33               [ 8]  640 	inc	sp
    000002FA AF               [ 4]  641 	xor	a, a
    000002FB 0F               [ 4]  642 	rrca
    000002FC F5               [16]  643 	push	af
    000002FD CDr00r00         [24]  644 	call	_fill_bkg_rect
    00000300 E8 05            [16]  645 	add	sp, #5
                                    646 ;src/ui.c:125: gotoxy(5, 6);
    00000302 21 05 06         [12]  647 	ld	hl, #0x605
    00000305 E5               [16]  648 	push	hl
    00000306 CDr00r00         [24]  649 	call	_gotoxy
    00000309 E1               [12]  650 	pop	hl
                                    651 ;src/ui.c:126: printf("GAME  OVER");
    0000030A 11r88r03         [12]  652 	ld	de, #___str_9
    0000030D D5               [16]  653 	push	de
    0000030E CDr00r00         [24]  654 	call	_printf
    00000311 E1               [12]  655 	pop	hl
                                    656 ;src/ui.c:127: gotoxy(4, 9);
    00000312 21 04 09         [12]  657 	ld	hl, #0x904
    00000315 E5               [16]  658 	push	hl
    00000316 CDr00r00         [24]  659 	call	_gotoxy
    00000319 E1               [12]  660 	pop	hl
                                    661 ;src/ui.c:128: printf("SCORE: %d", game.score);
    0000031A 21r01r00         [12]  662 	ld	hl, #_game + 1
    0000031D 2A               [ 8]  663 	ld	a, (hl+)
    0000031E 4F               [ 4]  664 	ld	c, a
    0000031F 46               [ 8]  665 	ld	b, (hl)
    00000320 C5               [16]  666 	push	bc
    00000321 11r93r03         [12]  667 	ld	de, #___str_10
    00000324 D5               [16]  668 	push	de
    00000325 CDr00r00         [24]  669 	call	_printf
    00000328 E8 04            [16]  670 	add	sp, #4
                                    671 ;src/ui.c:129: gotoxy(4, 10);
    0000032A 21 04 0A         [12]  672 	ld	hl, #0xa04
    0000032D E5               [16]  673 	push	hl
    0000032E CDr00r00         [24]  674 	call	_gotoxy
    00000331 E1               [12]  675 	pop	hl
                                    676 ;src/ui.c:130: printf("WAVE:  %d", game.waveNumber);
    00000332 21r05r00         [12]  677 	ld	hl, #_game + 5
    00000335 4E               [ 8]  678 	ld	c, (hl)
    00000336 06 00            [ 8]  679 	ld	b, #0x00
    00000338 C5               [16]  680 	push	bc
    00000339 11r9Dr03         [12]  681 	ld	de, #___str_11
    0000033C D5               [16]  682 	push	de
    0000033D CDr00r00         [24]  683 	call	_printf
    00000340 E8 04            [16]  684 	add	sp, #4
                                    685 ;src/ui.c:132: for (i = 0; i < 60; i++)
    00000342 0E 3C            [ 8]  686 	ld	c, #0x3c
    00000344                        687 00111$:
                                    688 ;src/ui.c:133: wait_vbl_done();
    00000344 CDr00r00         [24]  689 	call	_wait_vbl_done
    00000347 0D               [ 4]  690 	dec	c
    00000348 20 FA            [12]  691 	jr	NZ, 00111$
                                    692 ;src/ui.c:132: for (i = 0; i < 60; i++)
                                    693 ;src/ui.c:135: while (1)
    0000034A                        694 00107$:
                                    695 ;src/ui.c:137: if (++blinkCounter > 30)
    0000034A F8 01            [12]  696 	ldhl	sp,	#1
    0000034C 34               [12]  697 	inc	(hl)
    0000034D 3E 1E            [ 8]  698 	ld	a, #0x1e
    0000034F 96               [ 8]  699 	sub	a, (hl)
    00000350 30 24            [12]  700 	jr	NC, 00103$
                                    701 ;src/ui.c:139: blinkCounter = 0;
                                    702 ;src/ui.c:140: showText = !showText;
    00000352 AF               [ 4]  703 	xor	a, a
    00000353 32               [ 8]  704 	ld	(hl-), a
    00000354 7E               [ 8]  705 	ld	a, (hl)
    00000355 D6 01            [ 8]  706 	sub	a, #0x01
    00000357 3E 00            [ 8]  707 	ld	a, #0x00
    00000359 17               [ 4]  708 	rla
    0000035A 77               [ 8]  709 	ld	(hl), a
                                    710 ;src/ui.c:141: gotoxy(3, 15);
    0000035B 21 03 0F         [12]  711 	ld	hl, #0xf03
    0000035E E5               [16]  712 	push	hl
    0000035F CDr00r00         [24]  713 	call	_gotoxy
    00000362 E1               [12]  714 	pop	hl
                                    715 ;src/ui.c:142: printf(showText ? "START:RETRY" : "           ");
    00000363 F8 00            [12]  716 	ldhl	sp,	#0
    00000365 7E               [ 8]  717 	ld	a, (hl)
    00000366 B7               [ 4]  718 	or	a, a
    00000367 28 05            [12]  719 	jr	Z, 00114$
    00000369 01rA7r03         [12]  720 	ld	bc, #___str_12
    0000036C 18 03            [12]  721 	jr	00115$
    0000036E                        722 00114$:
    0000036E 01rB3r03         [12]  723 	ld	bc, #___str_13
    00000371                        724 00115$:
    00000371 C5               [16]  725 	push	bc
    00000372 CDr00r00         [24]  726 	call	_printf
    00000375 E1               [12]  727 	pop	hl
    00000376                        728 00103$:
                                    729 ;src/ui.c:145: if (joypad() & J_START)
    00000376 CDr00r00         [24]  730 	call	_joypad
    00000379 07               [ 4]  731 	rlca
    0000037A 30 04            [12]  732 	jr	NC, 00105$
                                    733 ;src/ui.c:146: return 1;
    0000037C 3E 01            [ 8]  734 	ld	a, #0x01
    0000037E 18 05            [12]  735 	jr	00112$
    00000380                        736 00105$:
                                    737 ;src/ui.c:147: wait_vbl_done();
    00000380 CDr00r00         [24]  738 	call	_wait_vbl_done
    00000383 18 C5            [12]  739 	jr	00107$
    00000385                        740 00112$:
                                    741 ;src/ui.c:149: }
    00000385 33               [ 8]  742 	inc	sp
    00000386 33               [ 8]  743 	inc	sp
    00000387 C9               [16]  744 	ret
    00000388                        745 ___str_9:
    00000388 47 41 4D 45 20 20 4F   746 	.ascii "GAME  OVER"
             56 45 52
    00000392 00                     747 	.db 0x00
    00000393                        748 ___str_10:
    00000393 53 43 4F 52 45 3A 20   749 	.ascii "SCORE: %d"
             25 64
    0000039C 00                     750 	.db 0x00
    0000039D                        751 ___str_11:
    0000039D 57 41 56 45 3A 20 20   752 	.ascii "WAVE:  %d"
             25 64
    000003A6 00                     753 	.db 0x00
    000003A7                        754 ___str_12:
    000003A7 53 54 41 52 54 3A 52   755 	.ascii "START:RETRY"
             45 54 52 59
    000003B2 00                     756 	.db 0x00
    000003B3                        757 ___str_13:
    000003B3 20 20 20 20 20 20 20   758 	.ascii "           "
             20 20 20 20
    000003BE 00                     759 	.db 0x00
                                    760 	.area _CODE
                                    761 	.area _INITIALIZER
                                    762 	.area _CABS (ABS)
